@page "/filtros"
@inject VeiculoController veiculoController
@inject NavigationManager navegacao
@rendermode InteractiveServer
@using AppMultas.Models;
@using AppMultas.Controllers;

<h3>Filtros</h3>

@code {
	public List<Multa> listaMultas = new List<Multa>();
	public List<Veiculo> listaVeiculos = new List<Veiculo>();
	public Veiculo? veiculo { get; set; }

	protected override async Task OnInitializedAsync()
	{
		var lista = await veiculoController.ListaDeVeiculos();
		listaVeiculos = lista;
	}

	public void SelecionarVeiculo(ChangeEventArgs e)
	{
		int id = Convert.ToInt32(e.Value);
		veiculo = listaVeiculos.FirstOrDefault(v => v.Id == id);
		listaMultas = veiculo.Multas;
	}
}
